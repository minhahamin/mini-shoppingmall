# ë¯¸ë‹ˆ ì‡¼í•‘ëª° (Mini Shopping Mall)

Spring Bootë¡œ êµ¬í˜„í•œ í’€ìŠ¤íƒ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
- ë°°í¬ : https://mini-shoppingmall-production.up.railway.app/

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Spring Boot 3.1.5
- **Security**: Spring Security (ì—­í•  ê¸°ë°˜ ì¸ì¦/ì¸ê°€)
- **Database**: PostgreSQL
- **Migration**: Flyway (ìë™ ìŠ¤í‚¤ë§ˆ ê´€ë¦¬)
- **Payment**: Stripe API (ì¹´ë“œ ê²°ì œ)
- **Template Engine**: Thymeleaf + Spring Security Dialect
- **Build Tool**: Maven
- **Java Version**: 17

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ‘¤ íšŒì› ê´€ë¦¬
- âœ… íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
- âœ… Spring Securityë¥¼ í†µí•œ ì¸ì¦/ì¸ê°€
- âœ… ê´€ë¦¬ì/ì¼ë°˜íšŒì› ê¶Œí•œ êµ¬ë¶„
- âœ… ë§ˆì´í˜ì´ì§€ (íšŒì›ì •ë³´ ìˆ˜ì •, ë°°ì†¡ì •ë³´ ê´€ë¦¬)
- âœ… íšŒì› íƒˆí‡´ (ë¹„ë°€ë²ˆí˜¸ í™•ì¸)
- âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

### ğŸ›ï¸ ìƒí’ˆ ê¸°ëŠ¥
- âœ… ìƒí’ˆ ê´€ë¦¬ (ë“±ë¡/ìˆ˜ì •/ì‚­ì œ) - ê´€ë¦¬ì ì „ìš©
- âœ… í˜ì´ì§€ë„¤ì´ì…˜ (5/10/20/50ê°œì”© ë³´ê¸°)
- âœ… ìë™ ê²€ìƒ‰ ê¸°ëŠ¥ (debounce ì ìš©)
- âœ… ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§ (ë“œë¡­ë‹¤ìš´ ë©”ë‰´)
- âœ… ì¸ê¸° ìƒí’ˆ TOP 3 (íŒë§¤ëŸ‰ ê¸°ì¤€)
- âœ… ì¬ê³  ê´€ë¦¬ (ê²°ì œ ì‹œ ìë™ ì°¨ê°)
- âœ… íŒë§¤ëŸ‰ ì¶”ì  ì‹œìŠ¤í…œ

### ğŸ’ ì°œ ê¸°ëŠ¥
- âœ… í•˜íŠ¸ ì•„ì´ì½˜ìœ¼ë¡œ ì°œí•˜ê¸°/ì·¨ì†Œ
- âœ… ì°œ ëª©ë¡ ê´€ë¦¬
- âœ… ì°œí•œ ìƒí’ˆ ë°”ë¡œ ìƒì„¸ë³´ê¸°

### ğŸ›’ ì¥ë°”êµ¬ë‹ˆ
- âœ… ìƒí’ˆ ë‹´ê¸° (ìˆ˜ëŸ‰ ì„ íƒ)
- âœ… ì²´í¬ë°•ìŠ¤ë¡œ ê°œë³„ ì„ íƒ
- âœ… ì„ íƒ ìƒí’ˆ ê¸ˆì•¡ ì‹¤ì‹œê°„ ê³„ì‚°
- âœ… ìˆ˜ëŸ‰ ì¦ê° ê¸°ëŠ¥
- âœ… ì„ íƒ ìƒí’ˆë§Œ ì£¼ë¬¸/ì‚­ì œ
- âœ… í–‰ í´ë¦­ìœ¼ë¡œ ì²´í¬ë°•ìŠ¤ ì„ íƒ

### ğŸ’³ ì£¼ë¬¸ ë° ê²°ì œ
- âœ… Stripe ê²°ì œ ì—°ë™ (ì¹´ë“œ ê²°ì œ)
- âœ… ì£¼ë¬¸ì„œ ì‘ì„± (ë°°ì†¡ì •ë³´ ìë™ ì…ë ¥)
- âœ… ê²°ì œ ì™„ë£Œ ì‹œ ì¬ê³  ìë™ ì°¨ê°
- âœ… ì„ íƒí•œ í•­ëª©ë§Œ ì¥ë°”êµ¬ë‹ˆì—ì„œ ì œê±°
- âœ… ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ (ê²°ì œ ì™„ë£Œ ìƒí’ˆë§Œ)
- âœ… ì£¼ë¬¸ ìƒì„¸ ì •ë³´ í™•ì¸

### ğŸ¨ UI/UX
- âœ… ë°˜ì‘í˜• ë””ìì¸
- âœ… ë©”ì¸ ë°°ë„ˆ í˜ì´ì§€
- âœ… ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ (í´ë¦­ í† ê¸€)
- âœ… ì„±ê³µ/ì—ëŸ¬ ì•Œë¦¼ ë©”ì‹œì§€
- âœ… ì¸ê¸° ìƒí’ˆ ë°°ì§€ (1ìœ„/2ìœ„/3ìœ„)
- âœ… í•˜íŠ¸ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Java 17 ì´ìƒ
- Maven (ë˜ëŠ” Maven Wrapper ì‚¬ìš©)
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤

### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

**PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±:**
```sql
CREATE DATABASE shoppingmall;
```

**application-local.properties íŒŒì¼ ìƒì„±:**
```properties
# src/main/resources/application-local.properties
spring.datasource.url=jdbc:postgresql://localhost:5432/shoppingmall
spring.datasource.username=postgres
spring.datasource.password=your_password

# Stripe API í‚¤ (https://dashboard.stripe.com/test/apikeys)
stripe.api.key=sk_test_your_secret_key_here
stripe.public.key=pk_test_your_public_key_here
stripe.webhook.secret=whsec_your_webhook_secret_here
```

### 2. Stripe ê²°ì œ ì„¤ì •

**Stripe API í‚¤ ë°œê¸‰:**
1. https://stripe.com ì—ì„œ ê³„ì • ìƒì„±
2. https://dashboard.stripe.com/test/apikeys ì—ì„œ í…ŒìŠ¤íŠ¸ API í‚¤ ë³µì‚¬
3. `application-local.properties`ì— í‚¤ ì„¤ì • (ìœ„ ì°¸ê³ )

**í…ŒìŠ¤íŠ¸ ì¹´ë“œ:**
- ì¹´ë“œë²ˆí˜¸: `4242 4242 4242 4242`
- ë§Œë£Œì¼: ë¯¸ë˜ ë‚ ì§œ (ì˜ˆ: 12/34)
- CVC: ì„ì˜ì˜ 3ìë¦¬ ìˆ«ì (ì˜ˆ: 123)
- ìš°í¸ë²ˆí˜¸: ì„ì˜ì˜ 5ìë¦¬ ìˆ«ì (ì˜ˆ: 12345)

ìì„¸í•œ ê°€ì´ë“œëŠ” [STRIPE_SETUP.md](STRIPE_SETUP.md) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

**Windows (PowerShell/CMD):**
```bash
# Maven Wrapperë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰
.\mvnw.cmd spring-boot:run
```

ë˜ëŠ”

```bash
# ë¹Œë“œ í›„ ì‹¤í–‰
.\mvnw.cmd clean package
java -jar target/mini-shoppingmall-1.0.0.jar
```

**Mac/Linux:**
```bash
./mvnw spring-boot:run
```

### 4. ì ‘ì†

- **ë©”ì¸ í˜ì´ì§€**: http://localhost:8080
- **ê´€ë¦¬ì í˜ì´ì§€**: http://localhost:8080/admin/products
- **ë§ˆì´í˜ì´ì§€**: http://localhost:8080/mypage

## ğŸ”‘ ê¸°ë³¸ ê³„ì •

### ê´€ë¦¬ì ê³„ì •
- **ì•„ì´ë””**: admin
- **ë¹„ë°€ë²ˆí˜¸**: 1234

### ì¼ë°˜ íšŒì›
- íšŒì›ê°€ì… í•„ìš” (http://localhost:8080/register)

## ğŸ’¡ ì£¼ìš” íŠ¹ì§•

### 1. íŒë§¤ëŸ‰ ê¸°ë°˜ ì¸ê¸° ìƒí’ˆ
- ê²°ì œ ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ íŒë§¤ëŸ‰ ì¦ê°€
- ë©”ì¸ í˜ì´ì§€ì— TOP 3 ìë™ í‘œì‹œ
- ìˆœìœ„ ë°°ì§€ ë° íŒë§¤ ìˆ˜ëŸ‰ í‘œì‹œ

### 2. ìŠ¤ë§ˆíŠ¸ ì¥ë°”êµ¬ë‹ˆ
- ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒì  ì£¼ë¬¸/ì‚­ì œ
- ì‹¤ì‹œê°„ ê¸ˆì•¡ ê³„ì‚°
- í–‰ í´ë¦­ìœ¼ë¡œ í¸ë¦¬í•œ ì„ íƒ
- ì£¼ë¬¸ í›„ ì„ íƒ í•­ëª©ë§Œ ì œê±°

### 3. í¸ë¦¬í•œ ë§ˆì´í˜ì´ì§€
- ì°œ/ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ ê°œìˆ˜ í•œëˆˆì— í™•ì¸
- ë°°ì†¡ì •ë³´ ì €ì¥ â†’ ì£¼ë¬¸ ì‹œ ìë™ ì…ë ¥
- íšŒì›ì •ë³´ í†µí•© ê´€ë¦¬

### 4. ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´
- í´ë¦­ìœ¼ë¡œ ì—´ê¸°/ë‹«ê¸° (â–¼/â–² í† ê¸€)
- ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ í•„í„°ë§
- ì „ì²´ í˜ì´ì§€ ì¼ê´€ëœ UX

### 5. Stripe ê²°ì œ í†µí•©
- ì•ˆì „í•œ ì¹´ë“œ ê²°ì œ
- ê²°ì œ ì™„ë£Œ ì‹œ ìë™ ì¬ê³  ì°¨ê°
- ì£¼ë¬¸ ë‚´ì—­ ì‹¤ì‹œê°„ ë™ê¸°í™”

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mini-shoppingmall/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/com/shoppingmall/
â”‚   â”‚   â”œâ”€â”€ ShoppingMallApplication.java
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”‚   â””â”€â”€ StripeConfig.java
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MyPageController.java
â”‚   â”‚   â”‚   â””â”€â”€ GlobalControllerAdvice.java
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentService.java
â”‚   â”‚   â”‚   â””â”€â”€ CustomUserDetailsService.java
â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItemRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderRepository.java
â”‚   â”‚   â”‚   â””â”€â”€ OrderItemRepository.java
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Product.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Wishlist.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Order.java
â”‚   â”‚   â”‚   â””â”€â”€ OrderItem.java
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â”œâ”€â”€ UserRegistrationDto.java
â”‚   â”‚       â”œâ”€â”€ UserUpdateDto.java
â”‚   â”‚       â””â”€â”€ ProductDto.java
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.properties
â”‚       â”œâ”€â”€ application-local.properties (Git ì œì™¸)
â”‚       â”œâ”€â”€ db/migration/ (12ê°œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼)
â”‚       â”œâ”€â”€ static/
â”‚       â”‚   â”œâ”€â”€ css/style.css
â”‚       â”‚   â””â”€â”€ js/dropdown.js
â”‚       â””â”€â”€ templates/ (17ê°œ HTML íŒŒì¼)
â”œâ”€â”€ pom.xml
â”œâ”€â”€ mvnw.cmd (Windows)
â”œâ”€â”€ mvnw (Mac/Linux)
â”œâ”€â”€ README.md
â””â”€â”€ STRIPE_SETUP.md
```

## ğŸ“„ í˜ì´ì§€ êµ¬ì„±

### ğŸŒ ê³µê°œ í˜ì´ì§€
- **ë©”ì¸ í˜ì´ì§€** (`/`) - ì¸ê¸° ìƒí’ˆ TOP 3, ìµœì‹  ìƒí’ˆ
- **ìƒí’ˆ ëª©ë¡** (`/products`) - ê²€ìƒ‰, ì¹´í…Œê³ ë¦¬ í•„í„°
- **ìƒí’ˆ ìƒì„¸** (`/products/{id}`) - ì°œí•˜ê¸°, ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
- **ë¡œê·¸ì¸** (`/login`)
- **íšŒì›ê°€ì…** (`/register`)

### ğŸ‘¤ íšŒì› í˜ì´ì§€ (ë¡œê·¸ì¸ í•„ìš”)
- **ë§ˆì´í˜ì´ì§€** (`/mypage`) - ì°œ/ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ í†µí•© ê´€ë¦¬
- **íšŒì›ì •ë³´ ìˆ˜ì •** (`/mypage/edit`) - ì´ë¦„, ì´ë©”ì¼, ë°°ì†¡ì •ë³´, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- **íšŒì› íƒˆí‡´** (`/mypage/delete`) - ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ íƒˆí‡´
- **ì°œ ëª©ë¡** (`/wishlist`) - ì°œí•œ ìƒí’ˆ ê´€ë¦¬
- **ì¥ë°”êµ¬ë‹ˆ** (`/cart`) - ì„ íƒ ì£¼ë¬¸/ì‚­ì œ
- **ì£¼ë¬¸ì„œ** (`/order/checkout`) - ë°°ì†¡ì •ë³´ ìë™ ì…ë ¥
- **ì£¼ë¬¸ ë‚´ì—­** (`/order/history`) - ê²°ì œ ì™„ë£Œ ì£¼ë¬¸ë§Œ í‘œì‹œ
- **ì£¼ë¬¸ ìƒì„¸** (`/order/detail/{id}`)

### ğŸ” ê´€ë¦¬ì í˜ì´ì§€ (ADMIN ê¶Œí•œ í•„ìš”)
- **ìƒí’ˆ ê´€ë¦¬** (`/admin/products`) - í˜ì´ì§•, ê²€ìƒ‰, CRUD
- **ìƒí’ˆ ë“±ë¡/ìˆ˜ì •** (`/admin/products/new`, `/admin/products/{id}/edit`)

## ğŸ¯ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì¼ë°˜ íšŒì›
1. íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸
2. ìƒí’ˆ ë‘˜ëŸ¬ë³´ê¸° (ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§)
3. ë§ˆìŒì— ë“œëŠ” ìƒí’ˆ ì°œí•˜ê¸° â™¥
4. ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°
5. ë§ˆì´í˜ì´ì§€ì—ì„œ ë°°ì†¡ì •ë³´ ë“±ë¡
6. ì„ íƒí•œ ìƒí’ˆë§Œ ì£¼ë¬¸
7. Stripeë¡œ ì•ˆì „í•˜ê²Œ ê²°ì œ
8. ì£¼ë¬¸ ë‚´ì—­ í™•ì¸

### ê´€ë¦¬ì
1. ê´€ë¦¬ì ê³„ì • ë¡œê·¸ì¸ (admin/1234)
2. ìƒí’ˆ ë“±ë¡ (ì´ë¯¸ì§€, ê°€ê²©, ì¬ê³  ë“±)
3. í˜ì´ì§•ê³¼ ê²€ìƒ‰ìœ¼ë¡œ ìƒí’ˆ ê´€ë¦¬
4. íŒë§¤ ìƒíƒœ ë³€ê²½ (íŒë§¤ì¤‘/íŒë§¤ì¤‘ì§€)
5. ìƒí’ˆ ìˆ˜ì •/ì‚­ì œ
6. ì¸ê¸° ìƒí’ˆ ìë™ ì¶”ì 

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ERD

### ì£¼ìš” í…Œì´ë¸”
- **users** - íšŒì› ì •ë³´ (role, address, phoneNumber)
- **products** - ìƒí’ˆ ì •ë³´ (salesCount, available)
- **carts / cart_items** - ì¥ë°”êµ¬ë‹ˆ
- **wishlist** - ì°œ ëª©ë¡
- **orders / order_items** - ì£¼ë¬¸ (cartItemIds, stripeSessionId)

### ê´€ê³„
```
User 1:N Cart 1:N CartItem N:1 Product
User 1:N Wishlist N:1 Product
User 1:N Order 1:N OrderItem N:1 Product
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Java 17 ì´ìƒ
- Maven (ë˜ëŠ” Maven Wrapper ì‚¬ìš©)
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤

### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

**PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±:**
```sql
CREATE DATABASE shoppingmall;
```

**application-local.properties íŒŒì¼ ìƒì„±:**
```properties
# src/main/resources/application-local.properties
spring.datasource.url=jdbc:postgresql://localhost:5432/shoppingmall
spring.datasource.username=postgres
spring.datasource.password=your_password

# Stripe API í‚¤ (https://dashboard.stripe.com/test/apikeys)
stripe.api.key=sk_test_your_secret_key_here
stripe.public.key=pk_test_your_public_key_here
stripe.webhook.secret=whsec_your_webhook_secret_here
```

### 2. Stripe ê²°ì œ ì„¤ì •

**Stripe API í‚¤ ë°œê¸‰:**
1. https://stripe.com ì—ì„œ ê³„ì • ìƒì„±
2. https://dashboard.stripe.com/test/apikeys ì—ì„œ í…ŒìŠ¤íŠ¸ API í‚¤ ë³µì‚¬
3. `application-local.properties`ì— í‚¤ ì„¤ì • (ìœ„ ì°¸ê³ )

**í…ŒìŠ¤íŠ¸ ì¹´ë“œ:**
- ì¹´ë“œë²ˆí˜¸: `4242 4242 4242 4242`
- ë§Œë£Œì¼: ë¯¸ë˜ ë‚ ì§œ (ì˜ˆ: 12/34)
- CVC: ì„ì˜ì˜ 3ìë¦¬ ìˆ«ì (ì˜ˆ: 123)
- ìš°í¸ë²ˆí˜¸: ì„ì˜ì˜ 5ìë¦¬ ìˆ«ì (ì˜ˆ: 12345)

ìì„¸í•œ ê°€ì´ë“œëŠ” [STRIPE_SETUP.md](STRIPE_SETUP.md) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

**Windows (PowerShell/CMD):**
```bash
# Maven Wrapperë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰
.\mvnw.cmd spring-boot:run
```

ë˜ëŠ”

```bash
# ë¹Œë“œ í›„ ì‹¤í–‰
.\mvnw.cmd clean package
java -jar target/mini-shoppingmall-1.0.0.jar
```

**Mac/Linux:**
```bash
./mvnw spring-boot:run
```

### 4. ì ‘ì†

- **ë©”ì¸ í˜ì´ì§€**: http://localhost:8080
- **ê´€ë¦¬ì í˜ì´ì§€**: http://localhost:8080/admin/products
- **ë§ˆì´í˜ì´ì§€**: http://localhost:8080/mypage

## ğŸ”‘ ê¸°ë³¸ ê³„ì •

### ê´€ë¦¬ì ê³„ì •
- **ì•„ì´ë””**: admin
- **ë¹„ë°€ë²ˆí˜¸**: 123456 (ë°°í¬ ì‹œ ë°˜ë“œì‹œ ë³€ê²½ í•„ìš”!)

### ì¼ë°˜ íšŒì›
- íšŒì›ê°€ì… í•„ìš” (http://localhost:8080/register)

## ğŸ“„ í˜ì´ì§€ êµ¬ì„±

### ğŸŒ ê³µê°œ í˜ì´ì§€
- **ë©”ì¸ í˜ì´ì§€** (`/`) - ì¸ê¸° ìƒí’ˆ TOP 3, ìµœì‹  ìƒí’ˆ
- **ìƒí’ˆ ëª©ë¡** (`/products`) - ê²€ìƒ‰, ì¹´í…Œê³ ë¦¬ í•„í„°
- **ìƒí’ˆ ìƒì„¸** (`/products/{id}`) - ì°œí•˜ê¸°, ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
- **ë¡œê·¸ì¸** (`/login`)
- **íšŒì›ê°€ì…** (`/register`)

### ğŸ‘¤ íšŒì› í˜ì´ì§€ (ë¡œê·¸ì¸ í•„ìš”)
- **ë§ˆì´í˜ì´ì§€** (`/mypage`) - ì°œ/ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ í†µí•© ê´€ë¦¬
- **íšŒì›ì •ë³´ ìˆ˜ì •** (`/mypage/edit`) - ì´ë¦„, ì´ë©”ì¼, ë°°ì†¡ì •ë³´, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- **íšŒì› íƒˆí‡´** (`/mypage/delete`) - ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ íƒˆí‡´
- **ì°œ ëª©ë¡** (`/wishlist`) - ì°œí•œ ìƒí’ˆ ê´€ë¦¬
- **ì¥ë°”êµ¬ë‹ˆ** (`/cart`) - ì„ íƒ ì£¼ë¬¸/ì‚­ì œ
- **ì£¼ë¬¸ì„œ** (`/order/checkout`) - ë°°ì†¡ì •ë³´ ìë™ ì…ë ¥
- **ì£¼ë¬¸ ë‚´ì—­** (`/order/history`) - ê²°ì œ ì™„ë£Œ ì£¼ë¬¸ë§Œ í‘œì‹œ
- **ì£¼ë¬¸ ìƒì„¸** (`/order/detail/{id}`)

### ğŸ” ê´€ë¦¬ì í˜ì´ì§€ (ADMIN ê¶Œí•œ í•„ìš”)
- **ìƒí’ˆ ê´€ë¦¬** (`/admin/products`) - í˜ì´ì§•, ê²€ìƒ‰, CRUD
- **ìƒí’ˆ ë“±ë¡/ìˆ˜ì •** (`/admin/products/new`, `/admin/products/{id}/edit`)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mini-shoppingmall/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/com/shoppingmall/
â”‚   â”‚   â”œâ”€â”€ ShoppingMallApplication.java
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”‚   â””â”€â”€ StripeConfig.java
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MyPageController.java
â”‚   â”‚   â”‚   â””â”€â”€ GlobalControllerAdvice.java
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentService.java
â”‚   â”‚   â”‚   â””â”€â”€ CustomUserDetailsService.java
â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItemRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ WishlistRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderRepository.java
â”‚   â”‚   â”‚   â””â”€â”€ OrderItemRepository.java
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Product.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Wishlist.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Order.java
â”‚   â”‚   â”‚   â””â”€â”€ OrderItem.java
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â”œâ”€â”€ UserRegistrationDto.java
â”‚   â”‚       â”œâ”€â”€ UserUpdateDto.java
â”‚   â”‚       â””â”€â”€ ProductDto.java
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ application.properties
â”‚       â”œâ”€â”€ application-local.properties (Git ì œì™¸)
â”‚       â”œâ”€â”€ db/migration/ (12ê°œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼)
â”‚       â”œâ”€â”€ static/
â”‚       â”‚   â”œâ”€â”€ css/style.css
â”‚       â”‚   â””â”€â”€ js/dropdown.js
â”‚       â””â”€â”€ templates/ (17ê°œ HTML íŒŒì¼)
â”œâ”€â”€ pom.xml
â”œâ”€â”€ mvnw.cmd (Windows)
â”œâ”€â”€ mvnw (Mac/Linux)
â”œâ”€â”€ README.md
â””â”€â”€ STRIPE_SETUP.md
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

ì´ í”„ë¡œì íŠ¸ëŠ” **Flyway**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

**ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼:**
```
src/main/resources/db/migration/
â”œâ”€â”€ V1__init_database.sql              # ì‚¬ìš©ì í…Œì´ë¸”
â”œâ”€â”€ V2__add_sample_data.sql            # ìƒ˜í”Œ ë°ì´í„°
â”œâ”€â”€ V3__add_products_table.sql         # ìƒí’ˆ í…Œì´ë¸”
â”œâ”€â”€ V4__add_admin_user.sql             # ê´€ë¦¬ì ê³„ì •
â”œâ”€â”€ V5__update_image_url_length.sql    # ì´ë¯¸ì§€ URL íƒ€ì… ë³€ê²½
â”œâ”€â”€ V6__create_cart_tables.sql         # ì¥ë°”êµ¬ë‹ˆ í…Œì´ë¸”
â”œâ”€â”€ V7__add_more_sample_products.sql   # ì¶”ê°€ ë”ë¯¸ ë°ì´í„° (30ê°œ)
â”œâ”€â”€ V8__create_order_tables.sql        # ì£¼ë¬¸ í…Œì´ë¸”
â”œâ”€â”€ V9__add_cart_item_ids_to_order.sql # ì£¼ë¬¸-ì¥ë°”êµ¬ë‹ˆ ì—°ê²°
â”œâ”€â”€ V10__add_sales_count_to_products.sql # íŒë§¤ëŸ‰ ì»¬ëŸ¼
â”œâ”€â”€ V11__create_wishlist_table.sql     # ì°œ í…Œì´ë¸”
â””â”€â”€ V12__add_user_address_phone.sql    # ë°°ì†¡ì •ë³´ ì»¬ëŸ¼
```

**ìë™ ì‹¤í–‰:**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
- ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ë§Œ ì‹¤í–‰ë¨
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì´ë ¥ì€ `flyway_schema_history` í…Œì´ë¸”ì— ì €ì¥

**ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶”ê°€:**
1. `src/main/resources/db/migration/` í´ë”ì— íŒŒì¼ ìƒì„±
2. íŒŒì¼ëª… í˜•ì‹: `V{ë²„ì „}__(ì„¤ëª…).sql` (ì˜ˆ: `V13__add_new_feature.sql`)
3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ ì‹œ ìë™ ì ìš©

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### Spring Security ì„¤ì •
- **ê³µê°œ URL**: `/`, `/products/**`, `/login`, `/register`, `/css/**`, `/js/**`, `/images/**`
- **ì¸ì¦ í•„ìš”**: `/cart/**`, `/wishlist/**`, `/order/**`, `/mypage/**`
- **ê´€ë¦¬ì ì „ìš©**: `/admin/**`
- **CSRF**: ë¹„í™œì„±í™” (Stripe ê²°ì œ ì—°ë™)
- **ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”**: BCrypt

### í™˜ê²½ ë³€ìˆ˜ ë³´ì•ˆ
- `application-local.properties` - Git ì œì™¸
- ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸, API í‚¤ ë“± ë¯¼ê°ì •ë³´ ë¶„ë¦¬

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Maven Wrapper ê¶Œí•œ ì—ëŸ¬ (Mac/Linux)
```bash
chmod +x mvnw
./mvnw spring-boot:run
```

### PostgreSQL ì—°ê²° ì—ëŸ¬
- PostgreSQL ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
- ë°ì´í„°ë² ì´ìŠ¤ëª…, ì‚¬ìš©ìëª…, ë¹„ë°€ë²ˆí˜¸ í™•ì¸
- `application-local.properties` íŒŒì¼ í™•ì¸

### Stripe ê²°ì œ ì—ëŸ¬
- API í‚¤ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- í…ŒìŠ¤íŠ¸ ëª¨ë“œ í‚¤ ì‚¬ìš© í™•ì¸ (`sk_test_`, `pk_test_`)
- ìì„¸í•œ ë‚´ìš©ì€ `STRIPE_SETUP.md` ì°¸ê³ 

### í¬íŠ¸ ì¶©ëŒ (8080 í¬íŠ¸ ì‚¬ìš© ì¤‘)
```bash
# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰
.\mvnw.cmd spring-boot:run -Dserver.port=8081
```

## ğŸš€ ë°°í¬ ë°©ë²•

### ì˜µì…˜ 1: JAR íŒŒì¼ë¡œ ë°°í¬ (ê°€ì¥ ê°„ë‹¨)

**1. í”„ë¡œì íŠ¸ ë¹Œë“œ:**
```bash
.\mvnw.cmd clean package -DskipTests
```

**2. JAR íŒŒì¼ ìƒì„± í™•ì¸:**
```
target/mini-shoppingmall-1.0.0.jar
```

**3. ì„œë²„ì—ì„œ ì‹¤í–‰:**
```bash
java -jar target/mini-shoppingmall-1.0.0.jar
```

**4. ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (Linux/Mac):**
```bash
nohup java -jar target/mini-shoppingmall-1.0.0.jar > app.log 2>&1 &
```

**5. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:**
```bash
# Windows
set SPRING_DATASOURCE_URL=jdbc:postgresql://your-db-host:5432/shoppingmall
set SPRING_DATASOURCE_USERNAME=postgres
set SPRING_DATASOURCE_PASSWORD=your_password
set STRIPE_API_KEY=sk_live_your_key

java -jar target/mini-shoppingmall-1.0.0.jar

# Linux/Mac
export SPRING_DATASOURCE_URL=jdbc:postgresql://your-db-host:5432/shoppingmall
export SPRING_DATASOURCE_USERNAME=postgres
export SPRING_DATASOURCE_PASSWORD=your_password
export STRIPE_API_KEY=sk_live_your_key

java -jar target/mini-shoppingmall-1.0.0.jar
```

---

### ì˜µì…˜ 2: Railway ë°°í¬ (ë¬´ë£Œ, ì¶”ì²œ)

**1. Railway ê³„ì • ìƒì„±:**
- https://railway.app ì ‘ì†
- GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

**2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±:**
```
+ New Project â†’ Deploy from GitHub repo â†’ ì €ì¥ì†Œ ì„ íƒ
```

**3. PostgreSQL ì¶”ê°€:**
```
+ New â†’ Database â†’ Add PostgreSQL
```

**4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:**
```
Railway Dashboard â†’ Variables â†’ Add Variable

SPRING_PROFILES_ACTIVE=prod
SPRING_DATASOURCE_URL=${{Postgres.DATABASE_URL}}
SPRING_DATASOURCE_USERNAME=${{Postgres.PGUSER}}
SPRING_DATASOURCE_PASSWORD=${{Postgres.PGPASSWORD}}
STRIPE_API_KEY=sk_live_your_key
STRIPE_PUBLIC_KEY=pk_live_your_key
STRIPE_WEBHOOK_SECRET=whsec_your_secret
```

**5. ìë™ ë°°í¬:**
- GitHubì— í‘¸ì‹œí•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ë¨
- Railwayê°€ ì œê³µí•˜ëŠ” URLë¡œ ì ‘ì† ê°€ëŠ¥

---

### ì˜µì…˜ 3: Render ë°°í¬ (ë¬´ë£Œ)

**1. Render ê³„ì • ìƒì„±:**
- https://render.com ì ‘ì†
- GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

**2. ìƒˆ Web Service ìƒì„±:**
```
+ New â†’ Web Service â†’ GitHub ì €ì¥ì†Œ ì—°ê²°
```

**3. ì„¤ì •:**
```
Name: mini-shoppingmall
Environment: Java
Build Command: ./mvnw clean package -DskipTests
Start Command: java -jar target/mini-shoppingmall-1.0.0.jar
```

**4. PostgreSQL ì¶”ê°€:**
```
+ New â†’ PostgreSQL â†’ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
```

**5. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:**
```
Environment â†’ Add Environment Variable

SPRING_PROFILES_ACTIVE=prod
SPRING_DATASOURCE_URL=[Render PostgreSQL URL]
SPRING_DATASOURCE_USERNAME=[ìë™ ìƒì„±ë¨]
SPRING_DATASOURCE_PASSWORD=[ìë™ ìƒì„±ë¨]
STRIPE_API_KEY=sk_live_your_key
STRIPE_PUBLIC_KEY=pk_live_your_key
```

---

### ì˜µì…˜ 4: AWS EC2 ë°°í¬ (í”„ë¡œë•ì…˜ ì¶”ì²œ)

**1. EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±:**
```
Amazon Linux 2 ë˜ëŠ” Ubuntu 20.04 LTS
t2.micro (í”„ë¦¬í‹°ì–´ ê°€ëŠ¥)
```

**2. ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†:**
```bash
ssh -i your-key.pem ec2-user@your-ec2-ip
```

**3. Java 17 ì„¤ì¹˜:**
```bash
# Amazon Linux 2
sudo amazon-linux-extras install java-openjdk17

# Ubuntu
sudo apt update
sudo apt install openjdk-17-jdk
```

**4. PostgreSQL ì„¤ì •:**
```bash
# RDS ì‚¬ìš© ê¶Œì¥
# ë˜ëŠ” ê°™ì€ EC2ì— ì„¤ì¹˜
sudo apt install postgresql postgresql-contrib
```

**5. JAR íŒŒì¼ ì—…ë¡œë“œ:**
```bash
scp -i your-key.pem target/mini-shoppingmall-1.0.0.jar ec2-user@your-ec2-ip:~/
```

**6. ì‹¤í–‰:**
```bash
export SPRING_DATASOURCE_URL=jdbc:postgresql://your-rds-endpoint:5432/shoppingmall
export SPRING_DATASOURCE_USERNAME=postgres
export SPRING_DATASOURCE_PASSWORD=your_password
export STRIPE_API_KEY=sk_live_your_key

nohup java -jar mini-shoppingmall-1.0.0.jar > app.log 2>&1 &
```

**7. Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ (ì„ íƒ):**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

### ì˜µì…˜ 5: Docker ë°°í¬

**1. Dockerfile ìƒì„±:**
```dockerfile
FROM openjdk:17-jdk-slim
WORKDIR /app
COPY target/mini-shoppingmall-1.0.0.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

**2. Docker ì´ë¯¸ì§€ ë¹Œë“œ:**
```bash
docker build -t mini-shoppingmall .
```

**3. Docker ì‹¤í–‰:**
```bash
docker run -d -p 8080:8080 \
  -e SPRING_DATASOURCE_URL=jdbc:postgresql://host.docker.internal:5432/shoppingmall \
  -e SPRING_DATASOURCE_USERNAME=postgres \
  -e SPRING_DATASOURCE_PASSWORD=your_password \
  -e STRIPE_API_KEY=sk_live_your_key \
  mini-shoppingmall
```

---

## ğŸ“ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „ í™•ì¸ì‚¬í•­:
- [ ] `application-local.properties`ê°€ `.gitignore`ì— ìˆëŠ”ì§€ í™•ì¸
- [ ] í”„ë¡œë•ì…˜ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
- [ ] Stripe ì‹¤ì œ(live) API í‚¤ ë°œê¸‰
- [ ] ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ê¸°ë³¸ê°’ 1234 â†’ ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸)
- [ ] CSRF ì„¤ì • ê²€í†  (í˜„ì¬ ë¹„í™œì„±í™”)
- [ ] ë¡œê·¸ ë ˆë²¨ ì„¤ì • (`logging.level.root=INFO`)

### ë°°í¬ í›„ í™•ì¸ì‚¬í•­:
- [ ] ë©”ì¸ í˜ì´ì§€ ì ‘ì† í™•ì¸
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- [ ] ìƒí’ˆ ì£¼ë¬¸ ë° ê²°ì œ í…ŒìŠ¤íŠ¸
- [ ] Stripe Webhook ì„¤ì • (í”„ë¡œë•ì…˜)
- [ ] ë„ë©”ì¸ ì—°ê²° (ì„ íƒì‚¬í•­)
- [ ] HTTPS ì¸ì¦ì„œ ì„¤ì • (Let's Encrypt)

---

## ğŸ”§ í”„ë¡œë•ì…˜ ì„¤ì • (application-prod.properties)

```properties
# src/main/resources/application-prod.properties
spring.profiles.active=prod

# ë°ì´í„°ë² ì´ìŠ¤
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

# JPA
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

# Flyway
spring.flyway.enabled=true

# Stripe
stripe.api.key=${STRIPE_API_KEY}
stripe.public.key=${STRIPE_PUBLIC_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}

# ë¡œê·¸
logging.level.root=INFO
logging.level.com.shoppingmall=INFO

# ì„œë²„
server.port=${PORT:8080}
```

---

## ğŸ“ í–¥í›„ ê°œë°œ ê³„íš

- [ ] ìƒí’ˆ ë¦¬ë·° ë° í‰ì  ì‹œìŠ¤í…œ
- [ ] ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥
- [ ] ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (ë°°ì†¡ì¤‘, ë°°ì†¡ì™„ë£Œ)
- [ ] ì´ë©”ì¼ ì•Œë¦¼ (ì£¼ë¬¸ í™•ì¸, ë°°ì†¡ ì•Œë¦¼)
- [ ] ì¿ í° ë° í• ì¸ ê¸°ëŠ¥
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ë§¤ì¶œ í†µê³„)

## ğŸ“œ ë¼ì´ì„¼ìŠ¤

í¬íŠ¸í´ë¦¬ì˜¤ í”„ë¡œì íŠ¸

## ğŸ‘¨â€ğŸ’» ê°œë°œì í™ë¯¼í•˜

**Made with â¤ï¸ using Spring Boot**
