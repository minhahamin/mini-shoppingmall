<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${isEdit ? '상품 수정' : '상품 등록'} + ' - 관리자'"></title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <a href="/" class="logo">🛍️ Mini Shopping Mall - 관리자</a>
            <nav class="nav-links">
                <a href="/">홈</a>
                <a href="/admin/products">상품 관리</a>
            </nav>
        </div>
    </header>

    <!-- Product Form -->
    <div class="auth-container" style="max-width: 600px;">
        <h2 th:text="${isEdit ? '상품 수정' : '상품 등록'}"></h2>
        
        <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
        
        <form th:action="${isEdit ? '/admin/products/' + product.id : '/admin/products'}" 
              th:object="${product}" method="post">
            
            <div class="form-group">
                <label for="name">상품명 *</label>
                <input type="text" id="name" th:field="*{name}" required>
                <div class="error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
            </div>
            
            <div class="form-group">
                <label for="description">상품 설명</label>
                <textarea id="description" th:field="*{description}" rows="5" 
                          style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 5px; font-family: inherit;"></textarea>
                <div class="error" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
            </div>
            
            <div class="form-group">
                <label for="price">가격 (원) *</label>
                <input type="number" id="price" th:field="*{price}" step="0.01" required>
                <div class="error" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
            </div>
            
            <div class="form-group">
                <label for="stock">재고 수량 *</label>
                <input type="number" id="stock" th:field="*{stock}" required>
                <div class="error" th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}"></div>
            </div>
            
            <div class="form-group">
                <label for="category">카테고리</label>
                <select id="category" th:field="*{category}" 
                        style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 5px;">
                    <option value="전자제품">전자제품</option>
                    <option value="가구">가구</option>
                    <option value="의류">의류</option>
                    <option value="도서">도서</option>
                    <option value="식품">식품</option>
                    <option value="기타">기타</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="imageUrl">이미지 URL</label>
                <input type="text" id="imageUrl" th:field="*{imageUrl}" 
                       placeholder="https://example.com/image.jpg">
                <div class="error" th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}"></div>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" th:field="*{available}"> 판매 가능
                </label>
            </div>
            
            <button type="submit" class="btn-submit" th:text="${isEdit ? '수정하기' : '등록하기'}"></button>
        </form>
        
        <div class="form-footer">
            <a href="/admin/products">목록으로 돌아가기</a>
        </div>
    </div>
</body>
</html>

